<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>三年级数学混合运算课后练习</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e0f7fa, #bbdefb);
            color: #2c3e50;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 20px auto;
            background: rgba(255, 255, 255, 0.97);
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            position: relative;
            padding: 30px;
        }
        
        .floating-icons {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .floating-icon {
            position: absolute;
            font-size: 2.5rem;
            opacity: 0.1;
            color: #0288d1;
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(20px, 15px) rotate(10deg); }
            50% { transform: translate(0, 30px) rotate(0deg); }
            75% { transform: translate(-20px, 15px) rotate(-10deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }
        
        header {
            text-align: center;
            padding: 25px;
            background: linear-gradient(90deg, #42a5f5, #0288d1);
            color: white;
            border-radius: 15px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.3rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .tab-btn {
            padding: 12px 25px;
            background: #e1f5fe;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .tab-btn:hover {
            background: #bbdefb;
            transform: translateY(-3px);
        }
        
        .tab-btn.active {
            background: #0288d1;
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .content-section {
            background: #f8fbff;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e1f5fe;
            position: relative;
            z-index: 1;
        }
        
        .section-title {
            color: #0277bd;
            margin-bottom: 25px;
            padding-bottom: 12px;
            border-bottom: 3px solid #4fc3f7;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .section-title i {
            background: #e1f5fe;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .problems-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .problem-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border-left: 4px solid #42a5f5;
            position: relative;
        }
        
        .problem-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .problem-card h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #01579b;
        }
        
        .problem-card .number {
            background: #0288d1;
            color: white;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-weight: bold;
        }
        
        .problem-text {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .answer-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e1f5fe;
            border-radius: 10px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .answer-input:focus {
            border-color: #42a5f5;
            outline: none;
            box-shadow: 0 0 0 3px rgba(66, 165, 245, 0.3);
        }
        
        .app-problem {
            background: #e8f5e9;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }
        
        .control-btn {
            padding: 15px 30px;
            background: linear-gradient(90deg, #42a5f5, #0288d1);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .control-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }
        
        .control-btn.check {
            background: linear-gradient(90deg, #66bb6a, #388e3c);
        }
        
        .control-btn.reset {
            background: linear-gradient(90deg, #ff9800, #f57c00);
        }
        
        footer {
            text-align: center;
            padding: 25px;
            color: #546e7a;
            font-size: 1.1rem;
            margin-top: 30px;
        }
        
        .result-message {
            text-align: center;
            padding: 20px;
            margin-top: 20px;
            font-size: 1.2rem;
            border-radius: 15px;
            display: none;
        }
        
        .correct {
            background: #e8f5e9;
            color: #388e3c;
            border: 2px solid #a5d6a7;
        }
        
        .incorrect {
            background: #ffebee;
            color: #d32f2f;
            border: 2px solid #ffcdd2;
        }
        
        .solution {
            background: #e3f2fd;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            font-size: 0.95rem;
            display: none;
        }
        
        .solution-title {
            font-weight: bold;
            color: #0288d1;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .toggle-solution {
            background: #bbdefb;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 1rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .toggle-solution:hover {
            background: #90caf9;
        }
        
        .answer-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }
        
        .show-answer-btn {
            background: #4fc3f7;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
        }
        
        .show-answer-btn:hover {
            background: #29b6f6;
            transform: translateY(-2px);
        }
        
        .correct-answer {
            font-weight: bold;
            color: #388e3c;
            font-size: 1.2rem;
            padding: 10px;
            background: #e8f5e9;
            border-radius: 8px;
            display: none;
        }
        
        @media (max-width: 768px) {
            .problems-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .container {
                padding: 15px;
            }
            
            .tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
        }
        
        .answer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
        }
        
        .score-badge {
            background: #ff9800;
            color: white;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .instructions {
            background: #fff8e1;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            border-left: 4px solid #ffc107;
        }
        
        .instructions h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            color: #ff6f00;
        }
        
        .comprehensive {
            background: #e8f5e9;
            border-radius: 8px;
            padding: 12px;
            margin-top: 10px;
            font-weight: bold;
            color: #2e7d32;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="floating-icons">
            <div class="floating-icon" style="top:10%; left:5%;">+</div>
            <div class="floating-icon" style="top:25%; right:7%;">-</div>
            <div class="floating-icon" style="bottom:15%; left:8%;">×</div>
            <div class="floating-icon" style="bottom:30%; right:10%;">÷</div>
            <div class="floating-icon" style="top:40%; left:20%;">=</div>
            <div class="floating-icon" style="top:60%; right:25%;">( )</div>
        </div>
        
        <header>
            <h1><i class="fas fa-book"></i> 混合运算课后练习</h1>
            <p class="subtitle">小学三年级数学 - 50道混合运算题 + 30道应用题</p>
        </header>
        
        <div class="instructions">
            <h3><i class="fas fa-info-circle"></i> 练习说明</h3>
            <p>1. 本练习包含两部分：50道混合运算题和30道应用题</p>
            <p>2. 所有题目都经过精心设计，适合三年级学生练习</p>
            <p>3. 完成后可点击"检查答案"查看结果</p>
            <p>4. 遇到困难可点击"显示正确答案"查看答案</p>
            <p>5. 应用题解析中新增了综合算式，帮助理解解题过程</p>
        </div>
        
        <div class="tabs">
            <button class="tab-btn active" data-tab="arithmetic">
                <i class="fas fa-calculator"></i> 混合运算题 (50道)
            </button>
            <button class="tab-btn" data-tab="application">
                <i class="fas fa-shopping-cart"></i> 应用题 (30道)
            </button>
        </div>
        
        <div class="content-section" id="arithmetic-section">
            <h2 class="section-title">
                <i class="fas fa-superscript"></i> 50道混合运算题
            </h2>
            <div class="problems-container" id="arithmetic-problems">
                <!-- 算术题将通过JS动态生成 -->
            </div>
        </div>
        
        <div class="content-section" id="application-section" style="display: none;">
            <h2 class="section-title">
                <i class="fas fa-shopping-cart"></i> 30道实际应用题
            </h2>
            <div class="problems-container" id="application-problems">
                <!-- 应用题将通过JS动态生成 -->
            </div>
        </div>
        
        <div class="controls">
            <button class="control-btn check" id="check-btn">
                <i class="fas fa-check-circle"></i> 检查答案
            </button>
            <button class="control-btn reset" id="reset-btn">
                <i class="fas fa-redo"></i> 重新开始
            </button>
        </div>
        
        <div class="result-message" id="result-message"></div>
        
        <footer>
            <p>三年级数学混合运算课后练习</p>
            <p>每天练习10分钟，数学成绩步步高！</p>
        </footer>
    </div>

    <script>
        // 混合运算题数据（50道）
        const arithmeticProblems = [
            { problem: "15 + 8 × 3 - 7", answer: "32", solution: "先算乘法：8 × 3 = 24<br>再算加法：15 + 24 = 39<br>最后算减法：39 - 7 = 32" },
            { problem: "36 ÷ (9 - 3) × 2", answer: "12", solution: "先算括号：9 - 3 = 6<br>再算除法：36 ÷ 6 = 6<br>最后算乘法：6 × 2 = 12" },
            { problem: "7 × 5 + 24 ÷ 4 - 3", answer: "38", solution: "先算乘除：7 × 5 = 35，24 ÷ 4 = 6<br>再算加减：35 + 6 = 41<br>41 - 3 = 38" },
            { problem: "42 ÷ 6 × 3 + 8", answer: "29", solution: "先算除法：42 ÷ 6 = 7<br>再算乘法：7 × 3 = 21<br>最后算加法：21 + 8 = 29" },
            { problem: "25 + 6 × 4 - 9", answer: "40", solution: "先算乘法：6 × 4 = 24<br>再算加法：25 + 24 = 49<br>最后算减法：49 - 9 = 40" },
            { problem: "48 ÷ (6 + 2) × 3", answer: "18", solution: "先算括号：6 + 2 = 8<br>再算除法：48 ÷ 8 = 6<br>最后算乘法：6 × 3 = 18" },
            { problem: "9 × 4 - 18 ÷ 3 + 7", answer: "37", solution: "先算乘除：9 × 4 = 36，18 ÷ 3 = 6<br>再算加减：36 - 6 = 30<br>30 + 7 = 37" },
            { problem: "32 - 4 × 5 + 12", answer: "24", solution: "先算乘法：4 × 5 = 20<br>再算减法：32 - 20 = 12<br>最后算加法：12 + 12 = 24" },
            { problem: "54 ÷ 9 × 2 + 7", answer: "19", solution: "先算除法：54 ÷ 9 = 6<br>再算乘法：6 × 2 = 12<br>最后算加法：12 + 7 = 19" },
            { problem: "18 + 7 × 3 - 15", answer: "24", solution: "先算乘法：7 × 3 = 21<br>再算加法：18 + 21 = 39<br>最后算减法：39 - 15 = 24" },
            { problem: "45 ÷ 5 × 2 - 8", answer: "10", solution: "先算除法：45 ÷ 5 = 9<br>再算乘法：9 × 2 = 18<br>最后算减法：18 - 8 = 10" },
            { problem: "8 × 6 - 36 ÷ 6 + 9", answer: "51", solution: "先算乘除：8 × 6 = 48，36 ÷ 6 = 6<br>再算加减：48 - 6 = 42<br>42 + 9 = 51" },
            { problem: "28 + 12 ÷ 3 × 2", answer: "36", solution: "先算除法：12 ÷ 3 = 4<br>再算乘法：4 × 2 = 8<br>最后算加法：28 + 8 = 36" },
            { problem: "63 ÷ 9 × 2 + 5", answer: "19", solution: "先算除法：63 ÷ 9 = 7<br>再算乘法：7 × 2 = 14<br>最后算加法：14 + 5 = 19" },
            { problem: "7 × 5 - 30 ÷ 6 + 8", answer: "38", solution: "先算乘除：7 × 5 = 35，30 ÷ 6 = 5<br>再算加减：35 - 5 = 30<br>30 + 8 = 38" },
            { problem: "32 ÷ 8 × 4 + 6", answer: "22", solution: "先算除法：32 ÷ 8 = 4<br>再算乘法：4 × 4 = 16<br>最后算加法：16 + 6 = 22" },
            { problem: "14 + 15 ÷ 3 × 2", answer: "24", solution: "先算除法：15 ÷ 3 = 5<br>再算乘法：5 × 2 = 10<br>最后算加法：14 + 10 = 24" },
            { problem: "6 × 7 - 42 ÷ 6 + 9", answer: "48", solution: "先算乘除：6 × 7 = 42，42 ÷ 6 = 7<br>再算加减：42 - 7 = 35<br>35 + 9 = 44" },
            { problem: "48 ÷ 6 × 3 - 5", answer: "19", solution: "先算除法：48 ÷ 6 = 8<br>再算乘法：8 × 3 = 24<br>最后算减法：24 - 5 = 19" },
            { problem: "9 + 8 × 4 - 25", answer: "16", solution: "先算乘法：8 × 4 = 32<br>再算加法：9 + 32 = 41<br>最后算减法：41 - 25 = 16" },
            { problem: "56 ÷ 7 × 2 + 8", answer: "24", solution: "先算除法：56 ÷ 7 = 8<br>再算乘法：8 × 2 = 16<br>最后算加法：16 + 8 = 24" },
            { problem: "5 × 8 - 24 ÷ 4 + 6", answer: "44", solution: "先算乘除：5 × 8 = 40，24 ÷ 4 = 6<br>再算加减：40 - 6 = 34<br>34 + 6 = 40" },
            { problem: "35 + 18 ÷ 6 × 3", answer: "44", solution: "先算除法：18 ÷ 6 = 3<br>再算乘法：3 × 3 = 9<br>最后算加法：35 + 9 = 44" },
            { problem: "72 ÷ 9 × 2 + 7", answer: "23", solution: "先算除法：72 ÷ 9 = 8<br>再算乘法：8 × 2 = 16<br>最后算加法：16 + 7 = 23" },
            { problem: "8 × 5 - 35 ÷ 7 + 9", answer: "44", solution: "先算乘除：8 × 5 = 40，35 ÷ 7 = 5<br>再算加减：40 - 5 = 35<br>35 + 9 = 44" },
            { problem: "27 + 24 ÷ 4 × 2", answer: "39", solution: "先算除法：24 ÷ 4 = 6<br>再算乘法：6 × 2 = 12<br>最后算加法：27 + 12 = 39" },
            { problem: "64 ÷ 8 × 3 - 7", answer: "17", solution: "先算除法：64 ÷ 8 = 8<br>再算乘法：8 × 3 = 24<br>最后算减法：24 - 7 = 17" },
            { problem: "9 × 6 - 54 ÷ 9 + 8", answer: "56", solution: "先算乘除：9 × 6 = 54，54 ÷ 9 = 6<br>再算加减：54 - 6 = 48<br>48 + 8 = 56" },
            { problem: "20 + 28 ÷ 7 × 3", answer: "32", solution: "先算除法：28 ÷ 7 = 4<br>再算乘法：4 × 3 = 12<br>最后算加法：20 + 12 = 32" },
            { problem: "45 ÷ 9 × 4 + 6", answer: "26", solution: "先算除法：45 ÷ 9 = 5<br>再算乘法：5 × 4 = 20<br>最后算加法：20 + 6 = 26" },
            { problem: "6 × 9 - 36 ÷ 6 + 7", answer: "58", solution: "先算乘除：6 × 9 = 54，36 ÷ 6 = 6<br>再算加减：54 - 6 = 48<br>48 + 7 = 55" },
            { problem: "38 + 15 ÷ 5 × 2", answer: "44", solution: "先算除法：15 ÷ 5 = 3<br>再算乘法：3 × 2 = 6<br>最后算加法：38 + 6 = 44" },
            { problem: "54 ÷ 6 × 3 - 8", answer: "19", solution: "先算除法：54 ÷ 6 = 9<br>再算乘法：9 × 3 = 27<br>最后算减法：27 - 8 = 19" },
            { problem: "7 × 7 - 49 ÷ 7 + 10", answer: "52", solution: "先算乘除：7 × 7 = 49，49 ÷ 7 = 7<br>再算加减：49 - 7 = 42<br>42 + 10 = 52" },
            { problem: "22 + 36 ÷ 6 × 2", answer: "34", solution: "先算除法：36 ÷ 6 = 6<br>再算乘法：6 × 2 = 12<br>最后算加法：22 + 12 = 34" },
            { problem: "81 ÷ 9 × 3 - 9", answer: "18", solution: "先算除法：81 ÷ 9 = 9<br>再算乘法：9 × 3 = 27<br>最后算减法：27 - 9 = 18" },
            { problem: "8 × 8 - 64 ÷ 8 + 12", answer: "68", solution: "先算乘除：8 × 8 = 64，64 ÷ 8 = 8<br>再算加减：64 - 8 = 56<br>56 + 12 = 68" },
            { problem: "30 + 42 ÷ 7 × 2", answer: "42", solution: "先算除法：42 ÷ 7 = 6<br>再算乘法：6 × 2 = 12<br>最后算加法：30 + 12 = 42" },
            { problem: "48 ÷ 6 × 4 + 5", answer: "37", solution: "先算除法：48 ÷ 6 = 8<br>再算乘法：8 × 4 = 32<br>最后算加法：32 + 5 = 37" },
            { problem: "9 × 5 - 45 ÷ 9 + 7", answer: "47", solution: "先算乘除：9 × 5 = 45，45 ÷ 9 = 5<br>再算加减：45 - 5 = 40<br>40 + 7 = 47" },
            { problem: "25 + 30 ÷ 6 × 3", answer: "40", solution: "先算除法：30 ÷ 6 = 5<br>再算乘法：5 × 3 = 15<br>最后算加法：25 + 15 = 40" },
            { problem: "56 ÷ 7 × 3 - 6", answer: "18", solution: "先算除法：56 ÷ 7 = 8<br>再算乘法：8 × 3 = 24<br>最后算减法：24 - 6 = 18" },
            { problem: "6 × 8 - 48 ÷ 8 + 10", answer: "52", solution: "先算乘除：6 × 8 = 48，48 ÷ 8 = 6<br>再算加减：48 - 6 = 42<br>42 + 10 = 52" },
            { problem: "40 + 54 ÷ 9 × 2", answer: "52", solution: "先算除法：54 ÷ 9 = 6<br>再算乘法：6 × 2 = 12<br>最后算加法：40 + 12 = 52" },
            { problem: "63 ÷ 7 × 2 + 9", answer: "27", solution: "先算除法：63 ÷ 7 = 9<br>再算乘法：9 × 2 = 18<br>最后算加法：18 + 9 = 27" },
            { problem: "7 × 9 - 63 ÷ 7 + 8", answer: "62", solution: "先算乘除：7 × 9 = 63，63 ÷ 7 = 9<br>再算加减：63 - 9 = 54<br>54 + 8 = 62" },
            { problem: "28 + 48 ÷ 8 × 3", answer: "46", solution: "先算除法：48 ÷ 8 = 6<br>再算乘法：6 × 3 = 18<br>最后算加法：28 + 18 = 46" },
            { problem: "72 ÷ 8 × 3 - 8", answer: "19", solution: "先算除法：72 ÷ 8 = 9<br>再算乘法：9 × 3 = 27<br>最后算减法：27 - 8 = 19" },
            { problem: "5 × 9 - 45 ÷ 5 + 12", answer: "48", solution: "先算乘除：5 × 9 = 45，45 ÷ 5 = 9<br>再算加减：45 - 9 = 36<br>36 + 12 = 48" },
            { problem: "32 + 36 ÷ 6 × 2", answer: "44", solution: "先算除法：36 ÷ 6 = 6<br>再算乘法：6 × 2 = 12<br>最后算加法：32 + 12 = 44" },
            { problem: "54 ÷ 9 × 5 + 6", answer: "36", solution: "先算除法：54 ÷ 9 = 6<br>再算乘法：6 × 5 = 30<br>最后算加法：30 + 6 = 36" },
            { problem: "8 × 7 - 56 ÷ 7 + 15", answer: "63", solution: "先算乘除：8 × 7 = 56，56 ÷ 7 = 8<br>再算加减：56 - 8 = 48<br>48 + 15 = 63" }
        ];
        
        // 应用题数据（30道） - 已添加综合算式
        const applicationProblems = [
            { problem: "小明有80元，买了4本故事书，每本12元，又买了3支铅笔，每支3元。他还剩多少钱？", answer: "23", solution: "书花费：4 × 12 = 48元<br>铅笔花费：3 × 3 = 9元<br>总花费：48 + 9 = 57元<br>剩余：80 - 57 = 23元<br><div class='comprehensive'>综合算式：80 - (4×12 + 3×3) = 80 - (48+9) = 80-57=23元</div>" },
            { problem: "一箱橙子有24个，学校买了5箱，分给6个班，每班分到多少个？", answer: "20", solution: "橙子总数：5 × 24 = 120个<br>每班分到：120 ÷ 6 = 20个<br><div class='comprehensive'>综合算式：5×24 ÷ 6 = 120÷6=20个</div>" },
            { problem: "小华每天读15页书，一周读5天，读了3周，一共读了多少页？", answer: "225", solution: "每周读：15 × 5 = 75页<br>3周读：75 × 3 = 225页<br><div class='comprehensive'>综合算式：15×5×3 = 75×3=225页</div>" },
            { problem: "饼干厂生产了360块饼干，每盒装12块，已经装了25盒，还剩多少块？", answer: "60", solution: "已装：25 × 12 = 300块<br>剩余：360 - 300 = 60块<br><div class='comprehensive'>综合算式：360 - 25×12 = 360-300=60块</div>" },
            { problem: "小明家距离学校800米，他每天走路上学，中午回家吃饭，下午再去上学，晚上回家。他一天走多少米？", answer: "3200", solution: "一天4趟：800 × 4 = 3200米<br><div class='comprehensive'>综合算式：800 × 4 = 3200米</div>" },
            { problem: "一包糖果有48颗，分给8个小朋友后还剩8颗，每个小朋友分到几颗？", answer: "5", solution: "分掉的糖果：48 - 8 = 40颗<br>每人分到：40 ÷ 8 = 5颗<br><div class='comprehensive'>综合算式：(48-8)÷8 = 40÷8=5颗</div>" },
            { problem: "妈妈买了3袋面粉，每袋5千克。做面包用了7千克，还剩多少千克？", answer: "8", solution: "面粉总量：3 × 5 = 15千克<br>剩余：15 - 7 = 8千克<br><div class='comprehensive'>综合算式：3×5 - 7 = 15-7=8千克</div>" },
            { problem: "公园里有8排长椅，每排有9个座位。今天有65人来公园，还有多少个空座位？", answer: "7", solution: "总座位数：8 × 9 = 72个<br>空座位：72 - 65 = 7个<br><div class='comprehensive'>综合算式：8×9 - 65 = 72-65=7个</div>" },
            { problem: "小明家每月用电60度，每度电1元。他家半年（6个月）的电费是多少元？", answer: "360", solution: "每月电费：60 × 1 = 60元<br>半年电费：60 × 6 = 360元<br><div class='comprehensive'>综合算式：60×1×6 = 60×6=360元</div>" },
            { problem: "一本书有180页，小丽每天读9页。她需要多少天才能读完？", answer: "20", solution: "需要天数：180 ÷ 9 = 20天<br><div class='comprehensive'>综合算式：180 ÷ 9 = 20天</div>" },
            { problem: "一袋米重10千克，妈妈买了5袋。做饭用了12千克，还剩多少千克？", answer: "38", solution: "大米总量：5 × 10 = 50千克<br>剩余：50 - 12 = 38千克<br><div class='comprehensive'>综合算式：5×10 - 12 = 50-12=38千克</div>" },
            { problem: "小华有60颗弹珠，他平均分给5个朋友，每人分到几颗？", answer: "12", solution: "每人分到：60 ÷ 5 = 12颗<br><div class='comprehensive'>综合算式：60 ÷ 5 = 12颗</div>" },
            { problem: "学校组织郊游，三年级有45人，四年级有55人。每辆车可坐25人，需要多少辆车？", answer: "4", solution: "总人数：45 + 55 = 100人<br>车辆数：100 ÷ 25 = 4辆<br><div class='comprehensive'>综合算式：(45+55)÷25 = 100÷25=4辆</div>" },
            { problem: "一盒巧克力有30块，要平均分给6个小朋友，每人分到几块？", answer: "5", solution: "每人分到：30 ÷ 6 = 5块<br><div class='comprehensive'>综合算式：30 ÷ 6 = 5块</div>" },
            { problem: "小刚每天存5元钱，他存了6天后，买了一个玩具花了28元，还剩多少钱？", answer: "2", solution: "存款：5 × 6 = 30元<br>剩余：30 - 28 = 2元<br><div class='comprehensive'>综合算式：5×6 - 28 = 30-28=2元</div>" },
            { problem: "水果店有72个苹果，每袋装9个。已经装了7袋，还剩多少个？", answer: "9", solution: "已装：7 × 9 = 63个<br>剩余：72 - 63 = 9个<br><div class='comprehensive'>综合算式：72 - 7×9 = 72-63=9个</div>" },
            { problem: "一个足球65元，一个篮球比足球便宜15元。买一个足球和一个篮球共需多少元？", answer: "115", solution: "篮球价格：65 - 15 = 50元<br>总价：65 + 50 = 115元<br><div class='comprehensive'>综合算式：65 + (65-15) = 65+50=115元</div>" },
            { problem: "学校图书馆有7排书架，每排有8层，每层放40本书。图书馆一共有多少本书？", answer: "2240", solution: "每排书：8 × 40 = 320本<br>总书数：7 × 320 = 2240本<br><div class='comprehensive'>综合算式：7×8×40 = 56×40=2240本</div>" },
            { problem: "小丽每分钟跳绳50下，她跳了4分钟后休息2分钟，然后又跳了3分钟。她一共跳了多少下？", answer: "350", solution: "第一次跳：4 × 50 = 200下<br>第二次跳：3 × 50 = 150下<br>总共：200 + 150 = 350下<br><div class='comprehensive'>综合算式：4×50 + 3×50 = 200+150=350下</div>" },
            { problem: "一桶油有15升，做菜用了5升，又用了3升。剩下的油还能用7天，平均每天用多少升？", answer: "1", solution: "剩余油：15 - 5 - 3 = 7升<br>每天用量：7 ÷ 7 = 1升<br><div class='comprehensive'>综合算式：(15-5-3)÷7 = 7÷7=1升</div>" },
            { problem: "小明做数学题，第一天做15道，第二天做的是第一天的2倍，两天一共做了多少道？", answer: "45", solution: "第二天：15 × 2 = 30道<br>两天共：15 + 30 = 45道<br><div class='comprehensive'>综合算式：15 + 15×2 = 15+30=45道</div>" },
            { problem: "一包糖有50颗，分给10个小朋友后，还剩10颗，每个小朋友分到几颗？", answer: "4", solution: "分掉的糖果：50 - 10 = 40颗<br>每人分到：40 ÷ 10 = 4颗<br><div class='comprehensive'>综合算式：(50-10)÷10 = 40÷10=4颗</div>" },
            { problem: "学校买来120本练习本，分给4个班，每班分得同样多，每班分到多少本？", answer: "30", solution: "每班分到：120 ÷ 4 = 30本<br><div class='comprehensive'>综合算式：120 ÷ 4 = 30本</div>" },
            { problem: "小华有45元钱，买了一个文具盒花了18元，剩下的钱买了3本笔记本，每本多少钱？", answer: "9", solution: "剩余钱：45 - 18 = 27元<br>每本笔记本：27 ÷ 3 = 9元<br><div class='comprehensive'>综合算式：(45-18)÷3 = 27÷3=9元</div>" },
            { problem: "一辆公交车可以坐35人，上午运了4趟，下午运了5趟，一共运了多少人？", answer: "315", solution: "每趟35人，共9趟：35 × 9 = 315人<br><div class='comprehensive'>综合算式：35 × (4+5) = 35×9=315人</div>" },
            { problem: "妈妈买了4千克苹果，每千克8元，付了50元，应找回多少元？", answer: "18", solution: "苹果总价：4 × 8 = 32元<br>找回：50 - 32 = 18元<br><div class='comprehensive'>综合算式：50 - 4×8 = 50-32=18元</div>" },
            { problem: "学校买来5箱粉笔，每箱24盒，分给8个班，每班分得多少盒？", answer: "15", solution: "粉笔总数：5 × 24 = 120盒<br>每班分到：120 ÷ 8 = 15盒<br><div class='comprehensive'>综合算式：5×24÷8 = 120÷8=15盒</div>" },
            { problem: "小华从家到学校要走15分钟，从学校到图书馆要走10分钟。他每天从家到学校再到图书馆，然后回家，共走多少分钟？", answer: "50", solution: "单程：15 + 10 = 25分钟<br>往返：25 × 2 = 50分钟<br><div class='comprehensive'>综合算式：(15+10)×2 = 25×2=50分钟</div>" },
            { problem: "一盒饼干有30块，小明每天吃3块，可以吃多少天？", answer: "10", solution: "可以吃：30 ÷ 3 = 10天<br><div class='comprehensive'>综合算式：30 ÷ 3 = 10天</div>" },
            { problem: "工人叔叔修路，第一天修了85米，第二天修了95米，第三天修的比前两天总和少50米，第三天修了多少米？", answer: "130", solution: "前两天的总和：85 + 95 = 180米<br>第三天：180 - 50 = 130米<br><div class='comprehensive'>综合算式：(85+95)-50 = 180-50=130米</div>" },
            { problem: "学校有3个花坛，每个花坛种8棵月季花，又种了15棵菊花。学校一共种了多少棵花？", answer: "39", solution: "月季花：3 × 8 = 24棵<br>总共：24 + 15 = 39棵<br><div class='comprehensive'>综合算式：3×8 + 15 = 24+15=39棵</div>" }
        ];
        
        // 生成题目卡片
        function generateProblemCards(problems, containerId, type) {
            const container = document.getElementById(containerId);
            container.innerHTML = "";
            
            problems.forEach((problem, index) => {
                const card = document.createElement("div");
                card.className = "problem-card";
                
                card.innerHTML = `
                    <div class="answer-header">
                        <h3><span class="number">${index + 1}</span> ${type === 'arithmetic' ? '计算' : '解决问题'}</h3>
                    </div>
                    <div class="problem-text">${problem.problem}</div>
                    <input type="text" 
                           class="answer-input" 
                           placeholder="${type === 'arithmetic' ? '输入算式结果' : '输入答案'}"
                           data-answer="${index}">
                    
                    <button class="show-answer-btn" data-answer="${index}">
                        <i class="fas fa-key"></i> 显示正确答案
                    </button>
                    <div class="correct-answer" id="answer-${index}">
                        正确答案: ${problem.answer}
                    </div>
                    
                    <button class="toggle-solution">
                        <i class="fas fa-lightbulb"></i> 查看解析
                    </button>
                    <div class="solution">
                        <div class="solution-title"><i class="fas fa-calculator"></i> 解题思路</div>
                        <div>${problem.solution}</div>
                    </div>
                `;
                
                // 添加解析切换功能
                const toggleBtn = card.querySelector('.toggle-solution');
                const solution = card.querySelector('.solution');
                
                toggleBtn.addEventListener('click', () => {
                    if (solution.style.display === 'block') {
                        solution.style.display = 'none';
                        toggleBtn.innerHTML = '<i class="fas fa-lightbulb"></i> 查看解析';
                    } else {
                        solution.style.display = 'block';
                        toggleBtn.innerHTML = '<i class="fas fa-times"></i> 收起解析';
                    }
                });
                
                // 添加显示答案按钮功能
                const showAnswerBtn = card.querySelector('.show-answer-btn');
                const correctAnswer = card.querySelector('.correct-answer');
                
                showAnswerBtn.addEventListener('click', () => {
                    correctAnswer.style.display = 'block';
                    showAnswerBtn.style.display = 'none';
                });
                
                container.appendChild(card);
            });
        }
        
        // 初始化页面
        function initPage() {
            generateProblemCards(arithmeticProblems, "arithmetic-problems", "arithmetic");
            generateProblemCards(applicationProblems, "application-problems", "application");
            
            // 标签切换功能
            document.querySelectorAll(".tab-btn").forEach(btn => {
                btn.addEventListener("click", () => {
                    document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
                    btn.classList.add("active");
                    
                    if (btn.dataset.tab === "arithmetic") {
                        document.getElementById("arithmetic-section").style.display = "block";
                        document.getElementById("application-section").style.display = "none";
                    } else {
                        document.getElementById("arithmetic-section").style.display = "none";
                        document.getElementById("application-section").style.display = "block";
                    }
                });
            });
            
            // 检查答案功能
            document.getElementById("check-btn").addEventListener("click", checkAnswers);
            
            // 重置功能
            document.getElementById("reset-btn").addEventListener("click", () => {
                document.querySelectorAll(".answer-input").forEach(input => {
                    input.value = "";
                    input.style.background = "white";
                });
                document.querySelectorAll(".correct-answer").forEach(el => {
                    el.style.display = "none";
                });
                document.querySelectorAll(".show-answer-btn").forEach(btn => {
                    btn.style.display = "block";
                });
                document.getElementById("result-message").style.display = "none";
            });
        }
        
        // 检查答案
        function checkAnswers() {
            const currentTab = document.querySelector(".tab-btn.active").dataset.tab;
            const inputs = document.querySelectorAll(`#${currentTab}-section .answer-input`);
            let correctCount = 0;
            const total = currentTab === "arithmetic" ? 50 : 30;
            
            inputs.forEach(input => {
                const index = parseInt(input.dataset.answer);
                let userAnswer = input.value.trim();
                let correctAnswer = "";
                
                if (currentTab === "arithmetic") {
                    correctAnswer = arithmeticProblems[index].answer;
                } else {
                    correctAnswer = applicationProblems[index].answer;
                }
                
                // 检查答案
                if (userAnswer === correctAnswer) {
                    input.style.background = "#e8f5e9";
                    correctCount++;
                } else {
                    input.style.background = "#ffebee";
                }
            });
            
            // 显示结果
            const resultElement = document.getElementById("result-message");
            resultElement.style.display = "block";
            
            const percentage = Math.round((correctCount / total) * 100);
            
            if (percentage === 100) {
                resultElement.className = "result-message correct";
                resultElement.innerHTML = `
                    <i class="fas fa-star"></i> 太棒了！全部正确！满分${total}分！
                    <div style="margin-top: 10px; font-size: 1.5rem;">🎉 你是数学小天才！ 🎉</div>
                `;
            } else if (percentage >= 80) {
                resultElement.className = "result-message correct";
                resultElement.innerHTML = `
                    <i class="fas fa-check-circle"></i> 做得很好！你答对了 ${correctCount} 题，共 ${total} 题
                    <div style="margin-top: 10px;">得分: ${percentage}分</div>
                `;
            } else if (percentage >= 60) {
                resultElement.className = "result-message correct";
                resultElement.innerHTML = `
                    <i class="fas fa-check-circle"></i> 不错！你答对了 ${correctCount} 题，共 ${total} 题
                    <div style="margin-top: 10px;">得分: ${percentage}分，继续努力！</div>
                `;
            } else {
                resultElement.className = "result-message incorrect";
                resultElement.innerHTML = `
                    <i class="fas fa-exclamation-circle"></i> 你答对了 ${correctCount} 题，共 ${total} 题
                    <div style="margin-top: 10px;">得分: ${percentage}分，多加练习哦！</div>
                `;
            }
        }
        
        // 页面加载完成后初始化
        window.addEventListener("DOMContentLoaded", initPage);
    </script>
</body>
</html>